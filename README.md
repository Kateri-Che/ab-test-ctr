### Контекст
В рамках эксперимента в новостную ленту *был внедрен один из новых алгоритмов рекомендации постов*.  
Эксперимент проходил с 27 сентября 2024 по 3 октября 2024 включительно.

**В эксперименте участвовали две группы**:  
- `группа 1 (контрольная)`
- `группа 2 (тестовая)`

### Стек
 - pandas
 - pandahouse
 - clickhouse
 - numpy
 - scipy
 - pingouin
 - seaborn
 - matplotlib
 - os

### Задача проекта
Исследовать гипотезу о том, что внедрение нового алгоритма в тестовой группе приведет к увеличению метрики `CTR (likes/views)`.

### Этапы реализации проекта
1. **Исследование системы сплитования пользователей по группам**:
   - Проведение AA-теста с целю подтверждения, что система сплитования была изначально выстроена корректно.

2. **Сравнение ключевой метрики в группах с помощью следующих статистических методов**:
   - t-тест
   - тест Манна-Уитни
   - Пуассоновский бутстреп
   - t-тест и тест Манна-Уитни поверх бакетного преобразования.
3. **Аналитическое заключение**:
   - Формирование рекомендаций по внедрению нового алгоритма на основании анализа результатов эксперимента.

### Результат
 - T-тест с поправкой Уэлча не показал разницу в средних значениях CTR между тестовой и контрольной группой, поскольку визуально средний CTR у двух групп +- схож, и проведенные изменения не были достаточно значительными, чтобы повлиять на средние.
 - Тест Манна-Уитни показал, что распределение метрики CTR между группами отличается. Вероятно, это объясняется тем, что разница в средних значениях CTR хоть статистически и не значима, но тест Манна-Уитни сравнивает именно распределение метрики, и он более чувствителен к различиям ее распределения (т.к. в тестовой группе распределение бимодально).
 - Пуассоновский бутстреп показал, что контрольная группа имеет лучший CTR, чем тестовая. Данный метод выдает более точный результат, так как он учитывает случайные вариации и устойчив к выбросам, бимодальности.
 - Бакетное преобразование свело к минимуму влияние выбросов и колебаний в данных (распределение побакетного CTR в обеих группах нормальное) и обеспечило более ровный анализ, в котором t-тест показал, что средний побакетный CTR в контрольной группе выше, чем в тестовой.

Основываясь на результатах проведенного анализа можно сделать вывод о том, что, в целом, различия в метрике CTR между тестовой и контрольной группами, либо отсутствуют, либо контрольная группа по данной метрике превосходит тестовую, что противоречит изначальной гипотезе. Проведенный эксперимент можно считать неудачным, раскатывать новый алгоритм на всех пользователей не стоит. В дальнейшем требуется дополнительное исследование, направленное на выявление причины бимодальности в метрике CTR в тестовой группе (т.к. в ней CTR вырос только у части пользователей, а у другой части - наоборот упал).
